<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>MySQL编码设置</title>
	<meta name="author" content="Eli Lien" />
	
	<meta name="description" content="MySQL编码设置，解决中文乱码问题" />
	
	<meta name="keywords" content="elilien, Eli, Lien, Mac, OS X, Jekyll, GitHub" />
	<link href="http://elilien.com/atom.xml" rel="alternate" title="elilien / blog" type="application/atom+xml" />
	
	<link rel="stylesheet" href="/stylesheets/master.css?20121210234503" type="text/css" media="screen" title="no title" charset="utf-8" />
	<link rel="stylesheet" href="/stylesheets/webkit-scrollbar.css?20121210234503" type="text/css" media="screen" title="no title" charset="utf-8" />
	<link rel="stylesheet" href="/resources/fancybox/fancybox.css" type="text/css" media="screen" title="no title" charset="utf-8">
	
	<script src="/javascripts/libs.js?20121210234503" type="text/javascript" charset="utf-8"></script>
	<script src="/javascripts/main.js?20121210234503" type="text/javascript" charset="utf-8"></script>
	<script src="/javascripts/webkit-scrollbar.js?20121210234503" type="text/javascript" charset="utf-8"></script>
	
	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33697767-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>
<div id="debug"></div>

<div id="universe">
	
	<div id="header">
		<div id="title">
			<!-- <a href="/blog/">blog</a> / article -->
		</div>
		<div id="navigation">
			<a href="/">about</a>
			<a href="/blog/" class="selected">blog</a>
			<a href="/">one more thing</a>
		</div>
		<div class="clear"></div>
	</div>
	
	<div class="post-world">
		<div class="post-item">
			<div class="post-meta">
			    <p class="date"><i>10</i><b>Dec</b></p>
			</div>

			<h1 class="post-title">
				MySQL编码设置
				<div class="post-title-sub">
					by Eli Lien – tags:
					 <a href="/blog/tag/database/" rel="tag"><i class="hash">#</i>database</a>, <a href="/blog/tag/mysql/" rel="tag"><i class="hash">#</i>mysql</a>
				</div>
			</h1>

			<div class="post-content">
				<p>最近在 eclipse 中写一个 Java 项目用到了 MySQL 数据库，嫌麻烦就装了一个 xampp 来顶用，程序写好了发现查询不到任何结果，折腾了半天也没发现程序有问题。为了图方便，在程序测试的时候往表中插入了几个英文字符，结果却奇迹般地查询到了，突然想到是不是因为 MySQL 字符编码集的关系影响到程序查寻不到中文结果，遂写了一个测试代码输出一下数据表，果然出来的都是乱码。</p>

<p>上网搜索发现在 xampp 环境下，或者是 Fedora Linux 使用 yum 安装的 mysqld 特别容易出问题，新增数据库或表格时如果不指定编码，则 MySQL 预设会使用 latin1，现在需要将预设编码改为 utf-8，用如下方法解决：</p>

<p>我的是 OS X 环境，用编辑器打开 <code>/XAMPP/xamppfiles/etc/my.cnf</code></p>

<p>在 <code>[client]</code> 区块下添加如下记录:</p>

<div class="highlight"><pre><code class="bash">default-character-set <span class="o">=</span> utf8
</code></pre>
</div>


<p>在 <code>[mysqld]</code> 区块下添加如下两行记录:</p>

<div class="highlight"><pre><code class="bash">character-set-server <span class="o">=</span> utf8
collation-server <span class="o">=</span> utf8_general_ci
</code></pre>
</div>


<p>保存后重启 MySQL 就能解决问题。</p>

<p>Linux 下 xampp 的 my.cnf 文件所在目录为:
<code>/opt/lampp/etc/my.cnf</code></p>

<p>如果是 yum 安装的 mysqld，则为:
<code>/etc/my.cnf</code></p>

<p>Windows 下 xampp 配置文件目录为:
<code>C:\xampp\mysql\bin\my.ini</code></p>

<p>修改方法均与 OS X 版本相同。</p>

			</div>
			
			<div class="post-comments">
				<div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/elilien/embed.js"></script><noscript><a href="http://disqus.com/forums/elilien/?url=ref">View the discussion thread.</a></noscript>
			</div>
		</div>
	</div>
	
	<div class="sidebar">
	<div class="about-me">
		<h1>&nbsp;</h1>
		<a href="http://gravatar.com/avatar/2ce37552d4eae9fb07565fd184ecc0be.jpg?s=354" class="fancybox no-title avatar"><img src="http://gravatar.com/avatar/2ce37552d4eae9fb07565fd184ecc0be.jpg?s=50" alt="" /></a>
		<div class="description">
			<p>
				I study software engineering at DUT. I'm also a web-developer / designer and every morning I sprinkle a little bit of insanity over my fingers of creativity and inspiration.
			</p>
			<div class="clear"></div>
			<dl class="labels">
				<dt>email</dt>
				<dd><script type="text/javascript">document.write(
"<n uers=\"znvygb:ryvyvra\100zr\056pbz\" bapyvpx=\"_tnd\056chfu(['_genpxRirag', 'yvaxGb', 'rznvy', guvf\056uers]);\">ryvyvra\100zr\056pbz<\057n>".replace(/[a-zA-Z]/g, function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);}));
</script></dd>
				<!--dt>vcard</dt>
				<dd><a href="/vcard" onclick="_gaq.push(['_trackEvent', 'download', 'vcard', '.vcf']);">download</a></dd-->
				<dt>resume</dt>
				<dd>
					<!--a href="/resume/eli-lien-resume.pdf" onclick="_gaq.push(['_trackEvent', 'download', 'resume', '.pdf']);"-->pdf<!--/a-->
				</dd>
				<dt><a href="http://www.google.com/search?q=elilien onclick="_gaq.push(['_trackEvent', 'linkTo', 'google', this.href]);">more</a></dt>
				<dd>
					<a href="https://twitter.com/elilien" onclick="_gaq.push(['_trackEvent', 'linkTo', 'twitter', this.href]);">twitter</a>,
					<a href="https://github.com/elilien" onclick="_gaq.push(['_trackEvent', 'linkTo', 'github', this.href]);">github</a>,
					<a href="https://www.facebook.com/therealelilien" onclick="_gaq.push(['_trackEvent', 'linkTo', 'facebook', this.href]);">facebook</a>,
					<a href="https://plus.google.com/112702533973927806852?rel=author" onclick="_gaq.push(['_trackEvent', 'linkTo', 'google+', this.href]);">google+</a>,
					<a href="http://www.flickr.com/photos/eli-lien/" onclick="_gaq.push(['_trackEvent', 'linkTo', 'flickr', this.href]);">flickr</a>
				</dd>
			</dl>
		</div>
	</div>
	<div class="section recent-articles">
		<h2>Recent Articles</h2>
		<dl class="labels">
			
				<dt>10 Dec</dt>
				<dd><a href="/blog/2012/mysql-encoding/" class="title">MySQL编码设置</a></dd>
			
				<dt>25 Nov</dt>
				<dd><a href="/blog/2012/i-lives-good/" class="title">我过得很好</a></dd>
			
				<dt>10 Oct</dt>
				<dd><a href="/blog/2012/configure-tomcat-on-os-x/" class="title">在OS X下配置Tomcat</a></dd>
			
				<dt>07 Oct</dt>
				<dd><a href="/blog/2012/storing-database-connection-in-a-static-class/" class="title">Storing Database Connection In A Static Class</a></dd>
			
				<dt>17 Sep</dt>
				<dd><a href="/blog/2012/configure-my-ruby-development-environment/" class="title">Configure My Ruby Development Environment</a></dd>
			
				<dt>16 Sep</dt>
				<dd><a href="/blog/2012/use-google-calendar-to-remind-your-curriculum-via-sms/" class="title">说说Google Calendar</a></dd>
			
				<dt>01 Sep</dt>
				<dd><a href="/blog/2012/leaving-for-dalian/" class="title">再见</a></dd>
			
				<dt>31 Aug</dt>
				<dd><a href="/blog/2012/rot13-encryption-method/" class="title">ROT13加密算法</a></dd>
			
			<dt>&nbsp;</dt>
			<dd><a href="/blog/archive/">See All &rarr;</a></dd>
		</dl>
	</div>
</div>

<div class="clear"></div>
	
	<div class="post-paginator">
	<a href="/blog/archive/">archive</a><br />
	<a href="http://elilien.com/blog/atom.xml">rss</a>
</div>
	
</div>

<script type="text/javascript">
//<![CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for (var i = links.length - 1; i >= 0; i--){
		if(links[i].href.indexOf('#disqus_thread') >= 0) {
			query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
		};
	};
	document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/elilien/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>

</body>
</html>

